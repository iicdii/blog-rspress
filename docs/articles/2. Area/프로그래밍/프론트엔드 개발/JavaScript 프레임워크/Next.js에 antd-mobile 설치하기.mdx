---
tags:
  - NextJS
created: 2021-12-09T00:00:00.000Z
published: true
title: Next.jsì— antd-mobile ì„¤ì¹˜í•˜ê¸°
---

import ArticleInfo from '../../../../../../components/ArticleInfo'

# Next.jsì— antd-mobile ì„¤ì¹˜í•˜ê¸°

<ArticleInfo />

![](https://i.imgur.com/VR6LfQM.png)
# ì„¤ì¹˜ì¤‘ ë°œìƒí•˜ëŠ” ì—ëŸ¬ í•´ê²°í•˜ê¸°
Next.jsì— antd-mobileì„ ì„¤ì¹˜í•˜ê³  ì»´í¬ë„ŒíŠ¸ë¥¼ ë¶ˆëŸ¬ì˜¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•œë‹¤.
> Global CSS cannot be imported from within node_modules.

í•´ê²°í•˜ë ¤ë©´ ë¨¼ì € ì•„ë˜ íŒ¨í‚¤ì§€ë¥¼ ì„¤ì¹˜í•˜ê³ 
```sh
yarn add -D next-transpile-modules next-images
```

`next.config.js`ì— ë‹¤ìŒê³¼ ê°™ì€ ì„¤ì •ì„ ë„£ì–´ì¤€ë‹¤.
```js
const withImages = require('next-images')

const withTM = require('next-transpile-modules')([
  'antd-mobile',
]);

module.exports = withTM(withImages({
  // other Next.js configuration in your project
}));
```

ìœ„ ë°©ë²•ì€ [antd-mobile ê³µì‹ ë¬¸ì„œ](https://mobile.ant.design/guide/ssr "antd-mobile-ssr-guide")ì—ì„œë„ ë³¼ ìˆ˜ ìˆë‹¤.

ë¬¸ì œëŠ” í•´ê²°í–ˆëŠ”ë°, ì—ëŸ¬ëŠ” ì™œ ë°œìƒí• ê¹Œ?

# ì™œ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ”ê°€
Next.jsì˜ ë¦¬ë“œ ë©”ì¸í…Œì´ë„ˆì¸ [timneutkens](https://github.com/timneutkens "github link of nextjs maintainer")ì— ì˜í•˜ë©´ í•´ë‹¹ ì—ëŸ¬ê°€ ë°œìƒí•˜ëŠ” ê²ƒì€ ì˜ë„ëœ ë™ì‘ì´ë©°, **Next.jsê°€ ë…¸ë“œ ëª¨ë“ˆì— ìˆëŠ” ì½”ë“œë¥¼ ì»´íŒŒì¼í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” ì—ëŸ¬**ë¼ê³  í•œë‹¤. cssë‘ jsxë¥¼ ê°™ì´ í¼ë¸”ë¦¬ì‹±í•˜ëŠ” í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì˜ëª»ì´ë¼ëŠ” ê²ƒì´ë‹¤.

![Nextjs maintainer comment](//images.ctfassets.net/aygsdsdi1qnw/7Cif1LMSHtk6RvpqcrPXAg/f02e2fb0063f57556d0e007233e83e0b/_______________________________2021-12-09_________________2.37.05.png)

í•´ë‹¹ ëŒ“ê¸€ì€ ë³´ë‹¤ì‹œí”¼ ë¬´ìˆ˜í•œ ë¹„ì¶”ì²œì„ ë°›ê³  ìˆëŠ”ë°, ê°€ì¥ ë§ì€ ì¶”ì²œì„ ë°›ì€ ëŒ“ê¸€ì€ **"how can you control all 3rd part developer don't let them import css to their own library, that's don't make sense. (ë¼ì´ë¸ŒëŸ¬ë¦¬ ë§Œë“  ì‚¬ëŒë“¤í•œí…Œ cssë¥¼ importí•´ì„œ ì“°ë¼ê³  ìš°ë¦¬ê°€ ì–´ë–»ê²Œ ê°•ìš”í•´? ê·¸ê±´ ë§ì´ ì•ˆë¼.)"** ë¼ê³  ë§í•˜ê³  ìˆë‹¤. ê²°êµ­ì—” ë©”ì¸í…Œì´ë„ˆë„ ì´ë¥¼ ì¸ì •í–ˆëŠ”ë°, í•´ë‹¹ ë‚´ìš©ì€ ì•„ë˜ì—ì„œ ë‹¤ì‹œ ì–˜ê¸°í•˜ê² ë‹¤.

ì´ì— ëŒ€í•œ ëŒ€ì•ˆìœ¼ë¡œ ë‚˜ì˜¨ê²Œ ì»¤ë®¤ë‹ˆí‹° ìœ ì €ê°€ ë§Œë“  `next-transpile-modules` íŒ¨í‚¤ì§€ì¸ ê²ƒì´ë‹¤. "Nextì—ì„œ ì»´íŒŒì¼ ì•ˆí•´ì£¼ë‹ˆê¹Œ ìš°ë¦¬ê°€ ì»´íŒŒì¼ í•´ì¤„ê²Œ!"ë¼ë©´ì„œ ë§ì´ë‹¤.

```js
const withTM = require('next-transpile-modules')([
  'antd-mobile',
]);
```

ì½”ë“œë¥¼ ë³´ë©´ `([antd-mobile])`ê³¼ ê°™ì´ ì»´íŒŒì¼ì´ í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ íŠ¹ì •í•  ìˆ˜ ìˆë‹¤. ì´ ëª¨ë“ˆì€ jsx, ts, cssë“± ëŒ€ë¶€ë¶„ì˜ í™•ì¥ìë¥¼ ì»´íŒŒì¼ í•  ìˆ˜ ìˆë‹¤.

- Supports transpilation of all extensions supported by Next.js: .js, .jsx, .ts, .tsx, .mjs, .css, .scss and .sass
- Enable hot-reloading on local packages
- Most setups should work out of the box (npm, yarn, pnpm, ...)

ë‹¤ë§Œ ì´ íŒ¨í‚¤ì§€ëŠ” ë¹„ê³µì‹(unofficial) íŒ¨í‚¤ì§€ì´ê¸° ë•Œë¬¸ì— ì–¸ì œë“ ì§€ í˜¸í™˜ì„± ì´ìŠˆê°€ ë°œìƒí•  ìˆ˜ ìˆê³  ì†ŒìŠ¤ì½”ë“œì˜ ìˆ˜ëª…ë„ ì˜ˆìƒí•  ìˆ˜ ì—†ë‹¤ëŠ” ë‹¨ì ì´ ìˆë‹¤. ë©”ì¸í…Œì´ë„ˆëŠ” ìœ ì €ë“¤ì˜ ì˜ê²¬ì„ ìˆ˜ìš©í–ˆëŠ”ì§€ Github discussionì—ì„œ [RFC: Global CSS Imports](https://github.com/vercel/next.js/discussions/27953 "rfc")ë¥¼ ë“±ë¡í•˜ê³  ê³µì‹ ë ˆíŒŒì§€í† ë¦¬ì— ë°˜ì˜í•˜ê¸° ìœ„í•´ ê²€í†  ì¤‘ì´ë‹¤. í•´ë‹¹ ì‚¬ì•ˆì´ ì ìš©ë˜ë©´ `next-transpile-modules` íŒ¨í‚¤ì§€ë¥¼ ì œê±°í•  ìˆ˜ ìˆì„ ê²ƒì´ë‹¤.

## jest ì—ëŸ¬ í•´ê²°í•˜ê¸°
Next.js ì—ëŸ¬ë¥¼ í•´ê²°í•˜ê³  í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •ì„ í•˜ë ¤ëŠ”ë° ë˜‘ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí–ˆë‹¤.. ğŸ˜¡ğŸ˜¡
`jest.config.js`ì— ë‹¤ìŒ ì˜µì…˜ì„ ë„£ì–´ì£¼ë©´ í•´ê²°ëœë‹¤.
```js
{
  ...
  transformIgnorePatterns: ['./node_modules/(?!(antd-mobile)/)']
}
```

`transformIgnorePatterns`ì€ íŠ¸ëœìŠ¤íŒŒì¼ë§ì„ í•˜ì§€ ì•Šì„ íŒŒì¼ íŒ¨í„´ì„ ì„¤ì •í•˜ëŠ” ì˜µì…˜ì´ë‹¤. ë³´í†µ `transformIgnorePatterns: ['./node_modules/']`ì™€ ê°™ì´ ì„¤ì •í• í…ë° antd-mobileì€ íŠ¸ëœìŠ¤íŒŒì¼ë§ì´ í•„ìš”í•˜ë¯€ë¡œ í•´ë‹¹ ì˜µì…˜ì„ ë„£ì–´ì¤˜ì•¼ jest ì‹¤í–‰ì‹œì— ì—ëŸ¬ê°€ ì—†ì–´ì§„ë‹¤.

`'./node_modules/(?!(antd-mobile)/)'`ëŠ” "ëª¨ë“ˆì¤‘ `antd-mobile` ëª¨ë“ˆì„ ì œì™¸í•œ ëª¨ë“ˆ"ì„ ê°€ë¥´í‚¨ë‹¤.